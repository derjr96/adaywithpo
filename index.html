<!DOCTYPE html>
<html>
<head>
  <title>A day with Pixel Onion</title>
  <link rel="stylesheet" href="assets/css/style.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
  <div class = "center">
    <div class = "websitelogo">
      <img src="assets/images/pixel-onion-logo.png" alt="Pixel Onion Logo" class="responsive">
    </div>
    <header class = "masthead">
      <img src="assets/images/baby-name-finder-logo.png" alt="Pixel Onion Logo" class="responsive">
    </header>
    <section class = "cloud">

        <img src="assets/images/cloud-banner.png" alt="Pixel Onion Logo" class="responsive">

    </section>
    <section class = "table">
      <div id="baby-table" class = "table-box">

      </div>
    </section>
    <section class = "banner">
      <div class = "banner-picture">
        <img src="assets/images/banner-baby.jpg" alt="Pixel Onion Logo" class="responsive">
      </div>

      <div class = "banner-text">
          <p>
            Searching for the perfect name for your baby? Whether you want something traditional or unusual. We can help you!
          </p>
      </div>
    </section>
    <footer>
      <div class="footer-top">
        <div class="footer-top-left">
          <h1>
            You can find us at:
          </h1>
          <h2>
            991 Alexandar Road, #01-13B, Singapore 119971
          </h2>
        </div>
        <div class="footer-top-right">
          <h1>
            Join our social community:
          </h1>
        </div>

      </div>
    </footer>
  </div>

  <script>
    // On page load
    $(document).ready(function (){
      <!-- Perform an AJAX async request to retrieve data.csv and populate table -->
      $.ajax({
        url: 'data/data.csv',
        dataType: 'text',
        success: function (data){
          // Split data by new line
          const dataLine = data.split('\n');
          // Define table headers
          var table = '<table><tr><td>Name</td><td>Gender</td><td>ID</td></tr>';

          // Loop dataLine array to retrieve a csv row
          for (let i = 0; i < dataLine.length; i++) {
            var cellData = dataLine[i].split(',');
            table += '<tr>';

            // Loop the cellData array to retrieve the cell data
            for (let j = 0; j < cellData.length; j++) {
              table += '<td>' + cellData[j] + '</td>';
            }
            table += '</tr>';
          }
          table += '</table>';

          // post back the html table to the web page
          $('#baby-table').html(table);
        }
      });
    });
  </script>
</body>
</html>
